# 使用方法

## 基本フロー

```
1. APIキーを設定（初回のみ）
         ↓
2. Slackメッセージをテキストエリアに貼り付け
         ↓
3. バッファを選択（任意）
         ↓
4. 「分解する」をクリック（または Cmd+Enter）
         ↓
5. 工数・作業手順・Backlogチケット・Slack返信が生成される
         ↓
6. 必要な箇所をコピーして利用
```

---

## 入力例

テキストエリアには Slack のメッセージをそのまま貼り付ける。箇条書きや改行が含まれていても問題ない。

```
認証周りのバグ直してほしい。本番で出てるやつ
```
```
来週までにダッシュボードのAPIをv2に移行したい
```
```
サーバーのメモリ使用率が高騰してるので調査して
```
```
DBのスロークエリが増えてるっぽい。原因特定してインデックス追加まで対応できる？
```

---

## 出力結果の見方

生成される結果は以下の4セクションで構成される。

### 1. ヘッダー（タスク名 + 工数）

| 項目 | 内容 |
|---|---|
| タスク名 | AIが生成した20文字以内のタスク名 |
| 工数 | 合計時間 h と 実働日数（1日6時間換算） |
| バッファバッジ | バッファが設定されている場合に表示 |

### 2. 作業手順

具体的な作業を実行順に表示。各手順には以下が含まれる：

| 項目 | 内容 |
|---|---|
| 手順番号 | 実行順の連番 |
| 手順名 | 何をするか（端的に） |
| 詳細説明 | どうやるか（対象ファイル、コマンド、確認ポイントなど） |
| 所要時間 | 個別の作業時間（h） |

最低5ステップ以上に分解される。

### 3. Backlogチケット

Backlogに登録できるフォーマットで出力される。コピーボタンで一括コピー可能。

```
## 背景
（なぜこのタスクが発生したか、現状の問題点）

## 目的
（何を達成するか）

## 期待動作
（完了後にどう動作すべきか、箇条書き）
```

### 4. Slack返信

依頼者へのSlack返信文。完了予定日時の目安を含む。コピーボタンでそのまま貼り付け可能。

---

## バッファを設定する

入力エリアの「バッファ」セクションで、AI分解前にバッファを選択する。

| 選択肢 | 内容 |
|---|---|
| なし | デフォルト。バッファなしで見積もる |
| +2h | 2時間を加算 |
| +4h | 4時間を加算 |
| ×1.5 | 工数を1.5倍にする |
| カスタム | 任意の時間を入力（0.5刻み） |

バッファを選択すると、AIがバッファ込みの工数で全出力（作業手順・Slack返信など）を生成する。

---

## コンテキストファイルでプロジェクト情報を注入する

プロジェクト固有の情報をAIに渡すことで、見積もりと出力の精度が上がる。

### 読み込み方法

- ヘッダーの「コンテキスト未設定」をクリックしてファイルを選択
- またはブラウザ画面上に `.md` / `.txt` ファイルをドラッグ&ドロップ

読み込み完了後、ヘッダーにファイル名が緑色で表示される。
✕ ボタンで削除・差し替え可能。

### フォーマット例

```markdown
## システム概要
- サービス名: 〇〇サービス
- 構成: マイクロサービス
- 主要言語: Go / TypeScript

## インフラ構成
- クラウド: AWS (ECS)
- DB: MySQL 8.0

## デプロイルール
- 本番デプロイ可能日時: 毎週水曜 10〜12時のみ
- 手順: GitHub PR → レビュー2名 → マージ → 自動デプロイ

## チーム状況
- エンジニア人数: 3名
- レビュー待ち目安: 1〜2営業日
- 障害対応フロー: Slackの #incident チャンネルに報告

## 注意事項
- DBマイグレーションは必ず別PRで分割すること
- 外部API連携はレート制限に注意（100req/min）
```

---

## その他の操作

| 操作 | 方法 |
|---|---|
| Backlogチケットをコピー | Backlogセクションの「コピー」ボタン |
| Slack返信をコピー | Slack返信セクションの「コピー」ボタン |
| 全タスク削除 | ヘッダーの「全クリア」ボタン |
| APIキーの変更 | ヘッダーの「APIキー設定」ボタン |
